{% extends "home.html" %}
{% block content %}
<!-- Include the PayPal JavaScript SDK -->
<script src="https://www.paypal.com/sdk/js?client-id=test&currency=USD"></script>

<script>
    paypal.Buttons({
        style: {
            color: 'blue',
            shape: 'rect',
            label: 'pay',
            height: 40
        },
        // Set up the transaction
        createOrder: function(data, actions) {
            return actions.order.create({
                purchase_units: [{
                    amount: {
                        value: '7868' 
                    }
                }]
            });
        },
        onApprove: function(data, actions) {
            return actions.order.capture().then(function(details) {
                alert('Transaction completed by ' + 'uygytf' + '!');
            });
        }
    }).render('#paypal-button-container'); 
</script>
<section class="breadcrumb-option">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb__text">
                    <h4>Order details</h4>
                    <div class="breadcrumb__links">
                        <a href="{% url "home" %}">Home</a>
                        <a href="{% url "shop" %}">Checkout</a>
                        <span>Order details</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Breadcrumb Section End -->

<!-- Shopping Cart Section Begin -->
<section class="shopping-cart spad">
    <div class="container">
        <div class="row">
            <section class="h-100 w-100" style="background-color: #eee;">
                <div class="container h-100 py-5">
                    <div class="row d-flex justify-content-center align-items-center h-100">
                        
                        <div class="col-lg-8">
                            <div class="card m-2">
                                <h5 class="card-header">Billing Address</h5>
                                <div class="card-body">
                                    
                                    <p class="card-text mb-0"><b>Name:</b> {{order.full_name}}</p>
                                    <p class="card-text mb-0"><b>Phone:</b> {{order.phone}}</p>
                                    <p class="card-text mb-0"><b>Email:</b> {{order.email}}</p>
                                    <p class="card-text mb-0"><b>Address:</b> {{order.full_address}}</p>
                                    <p class="card-text mb-0"><b>City:</b> {{order.city}} <b>PIN:</b> {{order.pincode}}</p>
                                    <p class="card-text mb-0"><b>State:</b> {{order.state}} <b>Country:</b> {{order.country}}</p>
                                    {% if order.order_note %}
                                    <p class="card-text mb-0"><b>Order Note:</b> {{order.order_note}}</p>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="card m-2">
                                <h5 class="card-header">Payment Method</h5>
                                <div class="card-body">
                                    
                                    <p class="card-text">Paypal</p>
                                   
                                </div>
                            </div>
                            <div class="card m-2">
                                <h5 class="card-header">Review Product</h5>
                                
                                {% for cart_item  in cart_items  %}
                                
                                <div class="card-body  m-2">
                                    <div class="row border-top border-bottom">
                                        <div class="row main align-items-center">
                                            <div class="col-2"><img class="img-fluid p-2" src="{{cart_item.product.product_image.url}}"></div>
                                            <div class="col">
                                                <div class="row text-muted">Shirt</div>
                                                <div class="row">{{cart_item.product.product_name}}</div>
                                            </div>
                                            <div class="col">
                                                <a  class="m-2 pl-3 pr-3 border border-dark rounded">{{cart_item.quantity}}</a>
                                            </div>
                                            <div class="col ">$ {{cart_item.product.product_price}}</div>
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="cart__total">
                                <h2><b>Cart total</b></h2>
                                <ul>
                                    <li>Total <span>$ {{total}}</span></li>
                                    <li>Tax 2% <span>${{tax}}</span></li>
                                    <li>Grand Total <span>${{grand_total}}</span></li>
                                </ul>
                                <div id="paypal-button-container"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</section>


{% endblock content %}
{% comment %} details.payer.name.given_name {% endcomment %}